<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALAXENDER | Pro Desktop OS</title>
    
    <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/2091/2091132.png">
    <link rel="manifest" href="manifest.json">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://js.pusher.com/8.0.1/pusher.min.js"></script>
    
    <style>
        :root {
            --primary: #00f2ff;
            --secondary: #7000ff;
            --bg-dark: #05070a;
            --card-bg: rgba(20, 25, 35, 0.95);
            --text: #e2e8f0;
            --sidebar: #0a0f1a;
            --glass: rgba(255, 255, 255, 0.05);
        }

        .light-mode {
            --bg-dark: #f0f2f5; --text: #1a1c23; --sidebar: #ffffff; --card-bg: rgba(255, 255, 255, 0.9);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background: var(--bg-dark); color: var(--text); transition: 0.3s; height: 100vh; overflow: hidden; }

        /* NOTIFICATIONS */
        #topNoti { position: fixed; top: -100px; left: 50%; transform: translateX(-50%); background: var(--primary); color: #000; padding: 12px 40px; border-radius: 0 0 25px 25px; font-weight: bold; transition: 0.6s; z-index: 50000; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }

        /* AUTH SYSTEM */
        #authOverlay, #welcomePopup { position: fixed; inset: 0; z-index: 20000; background: rgba(5, 7, 10, 0.98); display: flex; align-items: center; justify-content: center; backdrop-filter: blur(20px); }
        .auth-card { background: var(--card-bg); border: 1px solid var(--primary); padding: 40px; border-radius: 25px; width: 420px; text-align: center; }
        .auth-input { width: 100%; padding: 14px; margin-bottom: 15px; background: rgba(255,255,255,0.05); border: 1px solid #333; border-radius: 12px; color: #fff; outline: none; }
        .auth-btn { width: 100%; padding: 15px; background: linear-gradient(45deg, var(--primary), var(--secondary)); border: none; border-radius: 12px; color: #fff; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .auth-btn:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(0, 242, 255, 0.4); }

        /* DASHBOARD LAYOUT */
        #mainDashboard { display: none; height: 100vh; grid-template-columns: 280px 1fr; }
        .sidebar { background: var(--sidebar); border-right: 1px solid rgba(0, 242, 255, 0.1); padding: 25px; display: flex; flex-direction: column; }
        .nav-link { padding: 14px; color: #64748b; cursor: pointer; display: flex; align-items: center; gap: 15px; border-radius: 12px; margin-bottom: 8px; transition: 0.3s; }
        .nav-link.active, .nav-link:hover { background: rgba(0, 242, 255, 0.1); color: var(--primary); }

        /* CONTENT SECTIONS */
        .section { display: none; padding: 35px; height: calc(100vh - 75px); overflow-y: auto; }
        .section.active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .top-nav { height: 75px; border-bottom: 1px solid rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: space-between; padding: 0 35px; }

        /* APPS: NOTEPAD & CHAT */
        textarea#noteArea { width: 100%; height: 350px; background: rgba(0,0,0,0.3); color: var(--primary); border: 1px solid #333; padding: 20px; border-radius: 20px; font-size: 16px; outline: none; resize: none; margin-top: 20px; border-left: 4px solid var(--primary); }
        #chatBox { background: var(--card-bg); height: 400px; border-radius: 20px; border: 1px solid #333; margin-top: 20px; overflow: hidden; display: flex; flex-direction: column; }
        #msgFlow { flex: 1; padding: 20px; overflow-y: auto; color: #64748b; font-family: monospace; }

        /* GRID SYSTEM */
        .social-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 20px; margin-top: 25px; }
        .social-item { background: var(--glass); padding: 20px; border-radius: 20px; text-align: center; text-decoration: none; color: inherit; transition: 0.3s; border: 1px solid rgba(255,255,255,0.05); }
        .social-item:hover { border-color: var(--primary); transform: translateY(-5px); background: rgba(0, 242, 255, 0.05); }

        /* MUSIC PLAYER HUD */
        #musicHUD { position: fixed; bottom: 25px; left: 25px; background: var(--card-bg); border: 1px solid var(--primary); padding: 12px 20px; border-radius: 50px; display: flex; align-items: center; gap: 15px; z-index: 1000; width: 320px; }
    </style>
</head>
<body>

    <div id="topNoti"><i class="fa fa-shield-alt"></i> <span id="notiMsg">ALAXENDER OS SECURE</span></div>

    <div id="authOverlay">
        <div class="auth-card">
            <h1 style="color:var(--primary); margin-bottom:10px; letter-spacing:4px;">ALAXENDER</h1>
            <p style="color:#64748b; font-size:12px; margin-bottom:25px;">ENCRYPTED TERMINAL V2.0</p>
            <input type="email" id="aEmail" class="auth-input" placeholder="User ID / Email">
            <input type="password" id="aPass" class="auth-input" placeholder="Access Key">
            <button class="auth-btn" onclick="handleAuth()">INITIALIZE BOOT</button>
        </div>
    </div>

    <div id="welcomePopup" style="display:none;">
        <div class="auth-card">
            <div style="width:70px; height:70px; background:rgba(0,242,255,0.1); border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 20px;">
                <i class="fa fa-fingerprint" style="font-size:35px; color:var(--primary);"></i>
            </div>
            <h2 id="pNameDisp" style="margin-bottom:10px;">IDENTITY VERIFIED</h2>
            <p style="color:#64748b; font-size:13px; margin-bottom:25px;">All modules are ready for operation.</p>
            <button class="auth-btn" onclick="closePopup()">LAUNCH DESKTOP</button>
        </div>
    </div>

    <div id="mainDashboard">
        <aside class="sidebar">
            <div style="margin-bottom:40px;">
                <h2 style="color:var(--primary); font-style:italic;">PRO OS</h2>
            </div>
            <nav style="flex:1">
                <div class="nav-link active" onclick="showSec('home')"><i class="fa fa-th-large"></i> Dashboard</div>
                <div class="nav-link" onclick="showSec('notepad')"><i class="fa fa-file-signature"></i> Notepad</div>
                <div class="nav-link" onclick="showSec('chat')"><i class="fa fa-terminal"></i> Messages</div>
                <div class="nav-link" onclick="showSec('profile')"><i class="fa fa-user-shield"></i> Profile</div>
                <div class="nav-link" onclick="showSec('settings')"><i class="fa fa-sliders-h"></i> Settings</div>
            </nav>
            <div style="font-size:10px; color:#334155; text-align:center;">SERVER: VERCEL_LIVE</div>
        </aside>

        <main style="background: radial-gradient(at top right, #0a1b3d, #05070a);">
            <header class="top-nav">
                <div style="display:flex; align-items:center; gap:10px;">
                    <div style="width:10px; height:10px; background:#00ff00; border-radius:50%; box-shadow:0 0 10px #00ff00;"></div>
                    <span style="font-size:12px; font-family:monospace; color:var(--primary);">SYSTEM_ACTIVE</span>
                </div>
                <div style="display:flex; gap:20px; align-items:center;">
                    <button id="installApp" style="display:none; background:var(--primary); border:none; padding:8px 18px; border-radius:50px; font-weight:bold; cursor:pointer; font-size:11px; color:#000;">INSTALL APP</button>
                    <img id="navDP" src="https://ui-avatars.com/api/?background=00f2ff&color=000&name=User" style="width:42px; height:42px; border-radius:50%; border:2px solid var(--primary); cursor:pointer;" onclick="showSec('profile')">
                </div>
            </header>

            <div id="homeSec" class="section active">
                <h1 id="wTxt" style="font-size:35px; font-weight:300;">Welcome, Agent</h1>
                <p style="color:#64748b; margin-top:5px;">Secure gateway for all your encrypted communications.</p>
                
                <div class="social-grid">
                    <a href="https://facebook.com" target="_blank" class="social-item"><i class="fab fa-facebook" style="color:#1877F2; font-size:28px;"></i><br><small>Facebook</small></a>
                    <a href="https://web.whatsapp.com" target="_blank" class="social-item"><i class="fab fa-whatsapp" style="color:#25D366; font-size:28px;"></i><br><small>WhatsApp</small></a>
                    <a href="https://youtube.com" target="_blank" class="social-item"><i class="fab fa-youtube" style="color:#FF0000; font-size:28px;"></i><br><small>YouTube</small></a>
                    <a href="https://instagram.com" target="_blank" class="social-item"><i class="fab fa-instagram" style="color:#E4405F; font-size:28px;"></i><br><small>Instagram</small></a>
                </div>
            </div>

            <div id="notepadSec" class="section">
                <h2>Cloud Notepad</h2>
                <p style="color:#64748b; font-size:12px;">Notes are saved automatically to your local vault.</p>
                <textarea id="noteArea" placeholder="Type your encrypted notes here..."></textarea>
                <button class="auth-btn" style="width:200px; margin-top:15px;" onclick="saveNote()">SAVE TO VAULT</button>
            </div>

            <div id="chatSec" class="section">
                <h2>Secure Messaging</h2>
                <div id="chatBox">
                    <div id="msgFlow">>> Waiting for incoming transmissions...<br>>> Connection Secure...</div>
                </div>
                <div style="margin-top:15px; display:flex; gap:10px;">
                    <input type="text" placeholder="Type message..." class="auth-input" style="margin-bottom:0;">
                    <button class="auth-btn" style="width:100px;">SEND</button>
                </div>
            </div>

            <div id="profileSec" class="section">
                <div style="max-width:500px; margin:0 auto; background:rgba(255,255,255,0.02); padding:40px; border-radius:30px; border:1px solid #333; text-align:center;">
                    <img id="pDP" src="https://ui-avatars.com/api/?background=00f2ff&color=000&size=128&name=User" style="border-radius:50%; border:4px solid var(--primary); box-shadow:0 0 20px rgba(0,242,255,0.2);">
                    <h2 id="pNameMain" style="margin-top:20px; letter-spacing:2px;">AGENT IDENTITY</h2>
                    <p style="color:#64748b; margin-top:10px;">Status: Authorized</p>
                </div>
            </div>

            <div id="settingsSec" class="section">
                <h2>System Settings</h2>
                <div style="margin-top:20px; background:rgba(255,255,255,0.03); padding:20px; border-radius:15px;">
                    <p>Appearance Mode</p>
                    <button class="auth-btn" style="width:180px; margin-top:10px;" onclick="document.body.classList.toggle('light-mode')">Toggle Dark/Light</button>
                    <hr style="border:0; border-top:1px solid #333; margin:20px 0;">
                    <button class="auth-btn" style="width:180px; background:red;" onclick="location.reload()">Terminate Session</button>
                </div>
            </div>
        </main>
    </div>

    <div id="musicHUD">
        <div style="width:35px; height:35px; background:var(--primary); border-radius:50%; display:flex; align-items:center; justify-content:center; color:#000;">
            <i class="fa fa-music"></i>
        </div>
        <marquee style="flex:1; font-size:11px; font-weight:bold; color:var(--primary); font-family:monospace;">ALAXENDER PRO OS - ENCRYPTED AUDIO STREAM ACTIVE</marquee>
    </div>

    <script>
        // PWA INSTALLATION SERVICE
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }

        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            document.getElementById('installApp').style.display = 'block';
        });

        document.getElementById('installApp').addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt = null;
                document.getElementById('installApp').style.display = 'none';
            }
        });

        // SYSTEM LOGIC
        let currentUser = "";

        function showNoti(m) {
            const b = document.getElementById('topNoti');
            document.getElementById('notiMsg').innerText = m;
            b.style.top = "0"; 
            setTimeout(() => b.style.top = "-100px", 4000);
        }

        function handleAuth() {
            const e = document.getElementById('aEmail').value;
            const p = document.getElementById('aPass').value;
            if(e && p) {
                currentUser = e.split('@')[0];
                document.getElementById('authOverlay').style.display = 'none';
                document.getElementById('welcomePopup').style.display = 'flex';
                document.getElementById('pNameDisp').innerText = "AGENT: " + currentUser.toUpperCase();
            } else {
                alert("ACCESS DENIED: Credentials Required");
            }
        }

        function closePopup() {
            document.getElementById('welcomePopup').style.display = 'none';
            document.getElementById('mainDashboard').style.display = 'grid';
            document.getElementById('wTxt').innerText = "Welcome back, " + currentUser;
            document.getElementById('pNameMain').innerText = currentUser.toUpperCase();
            document.getElementById('navDP').src = `https://ui-avatars.com/api/?background=00f2ff&color=000&name=${currentUser}`;
            document.getElementById('pDP').src = `https://ui-avatars.com/api/?background=00f2ff&color=000&size=128&name=${currentUser}`;
            
            // Load saved note
            document.getElementById('noteArea').value = localStorage.getItem('vaultNote_' + currentUser) || "";
            showNoti("Handshake Complete. Session Secured.");
        }

        function showSec(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(id+'Sec').classList.add('active');
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            event.currentTarget.classList.add('active');
        }

        function saveNote() {
            const note = document.getElementById('noteArea').value;
            localStorage.setItem('vaultNote_' + currentUser, note);
            showNoti("Note Saved to Encrypted Vault!");
        }
    </script>
</body>
</html>
